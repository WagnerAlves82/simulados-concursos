(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{2910:function(e,r,t){Promise.resolve().then(t.bind(t,7825)),Promise.resolve().then(t.bind(t,8223))},2252:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},2660:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},1769:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},6901:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},2208:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5863:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3276:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]])},2369:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},7648:function(e,r,t){"use strict";t.d(r,{default:function(){return s.a}});var a=t(2972),s=t.n(a)},9376:function(e,r,t){"use strict";var a=t(5475);t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}})},7825:function(e,r,t){"use strict";t.d(r,{default:function(){return N}});var a=t(7437),s=t(2265),n=t(7648),l=t(9376),i=t(2381),o=t(9820),c=t(9174),d=t(5526),u=t(1769),m=t(2660),x=t(2252),f=t(6901),h=t(2369),p=t(9763);let g=(0,p.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),y=(0,p.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),v=(0,p.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);var b=t(2208),j=t(3276),N=()=>{let[e,r]=(0,s.useState)(!0),[t,p]=(0,s.useState)(!1),[N,w]=(0,s.useState)(!1),[k,C]=(0,s.useState)(null),[Z,S]=(0,s.useState)(null),[z,E]=(0,s.useState)({name:"",email:"",password:""}),I=(0,l.useRouter)(),M=(0,d.e)(),R=async()=>{w(!0),C(null),S(null);try{if(e){let{data:e,error:r}=await M.auth.signInWithPassword({email:z.email,password:z.password});if(r)throw r;e.user&&(await M.from("profiles").update({ultimo_acesso:new Date().toISOString()}).eq("id",e.user.id),I.push("/simulado"))}else{let{data:e,error:t}=await M.auth.signUp({email:z.email,password:z.password,options:{data:{nome:z.name}}});if(t)throw t;if(e.user){let{error:t}=await M.from("profiles").insert({id:e.user.id,email:z.email,nome:z.name});if(t&&!t.message.includes("duplicate key"))throw t;e.user.email_confirmed_at?I.push("/simulado"):(S("Verifique seu email para confirmar a conta antes de fazer login."),r(!0))}}}catch(e){console.error("Auth error:",e),C(e.message||"Erro inesperado. Tente novamente.")}finally{w(!1)}},A=e=>{E({...z,[e.target.name]:e.target.value}),k&&C(null),Z&&S(null)};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[(0,a.jsx)("header",{className:"container mx-auto px-4 py-6",children:(0,a.jsxs)("nav",{className:"flex items-center justify-between",children:[(0,a.jsxs)(n.default,{href:"/",className:"flex items-center space-x-2",children:[(0,a.jsx)(u.Z,{className:"h-8 w-8 text-blue-600"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"SimuladosPro"})]}),(0,a.jsx)(n.default,{href:"/",children:(0,a.jsxs)(i.z,{variant:"outline",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"Voltar ao In\xedcio"]})})]})}),(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,a.jsx)("div",{className:"text-center mb-6",children:(0,a.jsx)(c.C,{className:"bg-green-100 text-green-800 border-green-200",children:"100% Gratuito"})}),(0,a.jsxs)(o.Zb,{className:"shadow-xl",children:[(0,a.jsxs)(o.Ol,{className:"text-center",children:[(0,a.jsx)(o.ll,{className:"text-2xl font-bold text-gray-900",children:e?"Entrar na Conta":"Criar Conta Gr\xe1tis"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:e?"Acesse sua conta para continuar seus estudos":"Cadastre-se para salvar seu progresso e estat\xedsticas"})]}),(0,a.jsxs)(o.aY,{className:"space-y-6",children:[k&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(x.Z,{className:"h-5 w-5 text-red-600 mr-2"}),(0,a.jsx)("p",{className:"text-sm text-red-800",children:k})]})}),Z&&(0,a.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(f.Z,{className:"h-5 w-5 text-green-600 mr-2"}),(0,a.jsx)("p",{className:"text-sm text-green-800",children:Z})]})}),(0,a.jsxs)("div",{className:"space-y-4",children:[!e&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"name",className:"text-sm font-medium text-gray-700",children:"Nome completo"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(h.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,a.jsx)("input",{id:"name",name:"name",type:"text",required:!e,value:z.name,onChange:A,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Seu nome completo"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"E-mail"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:z.email,onChange:A,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"seu@email.com"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Senha"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,a.jsx)("input",{id:"password",name:"password",type:t?"text":"password",required:!0,value:z.password,onChange:A,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:e?"Sua senha":"M\xednimo 6 caracteres",minLength:e?void 0:6}),(0,a.jsx)("button",{type:"button",onClick:()=>p(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:t?(0,a.jsx)(v,{className:"h-5 w-5"}):(0,a.jsx)(b.Z,{className:"h-5 w-5"})})]}),!e&&(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"A senha deve ter pelo menos 6 caracteres"})]}),(0,a.jsx)(i.z,{onClick:R,className:"w-full py-3 text-lg",disabled:N||!z.email||!z.password||!e&&!z.name,children:N?(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),e?"Entrando...":"Criando conta..."]}):(0,a.jsx)(a.Fragment,{children:e?"Entrar":"Criar Conta Gr\xe1tis"})})]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("p",{className:"text-gray-600",children:[e?"N\xe3o tem uma conta?":"J\xe1 tem uma conta?",(0,a.jsx)("button",{onClick:()=>{r(!e),C(null),S(null),E({name:"",email:"",password:""})},className:"ml-2 text-blue-600 hover:text-blue-700 font-medium",children:e?"Cadastre-se gr\xe1tis":"Fa\xe7a login"})]})}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,a.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"ou"})})]}),(0,a.jsx)(n.default,{href:"/simulado",children:(0,a.jsxs)(i.z,{variant:"outline",className:"w-full py-3 text-lg",children:[(0,a.jsx)(j.Z,{className:"mr-2 h-5 w-5"}),"Continuar sem cadastro"]})}),(0,a.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"Sem cadastro voc\xea pode fazer o simulado, mas n\xe3o conseguir\xe1 salvar o progresso"})]})]}),(0,a.jsx)(o.Zb,{className:"mt-6 bg-blue-50 border-blue-200",children:(0,a.jsxs)(o.aY,{className:"p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-blue-900 mb-3",children:"Vantagens de ter uma conta:"}),(0,a.jsx)("div",{className:"space-y-2",children:["Salvar progresso dos simulados","Acompanhar evolu\xe7\xe3o por \xe1rea","Hist\xf3rico completo de tentativas","Estat\xedsticas detalhadas de desempenho"].map((e,r)=>(0,a.jsxs)("div",{className:"flex items-center text-sm text-blue-800",children:[(0,a.jsx)(f.Z,{className:"h-4 w-4 mr-2 text-blue-600"}),e]},r))})]})}),(0,a.jsx)("div",{className:"text-center mt-6 text-gray-600",children:(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("strong",{children:"Concurso:"})," Agente de Educa\xe7\xe3o Infantil",(0,a.jsx)("br",{}),(0,a.jsx)("strong",{children:"Local:"})," S\xe3o Louren\xe7o do Oeste/SC",(0,a.jsx)("br",{}),(0,a.jsx)("strong",{children:"Vagas:"})," 42 | ",(0,a.jsx)("strong",{children:"Sal\xe1rio:"})," R$ 2.027,00"]})})]})})]})}},8223:function(e,r,t){"use strict";t.d(r,{ProtectedRoute:function(){return o}});var a=t(7437),s=t(5648),n=t(9376),l=t(2265),i=t(5863);function o(e){let{children:r,redirectTo:t="/login",requireAuth:o=!0}=e,{user:c,loading:d}=(0,s.a)(),u=(0,n.useRouter)();return((0,l.useEffect)(()=>{d||(o&&!c?u.push(t):!o&&c&&u.push("/simulado"))},[c,d,u,t,o]),d)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(i.Z,{className:"h-8 w-8 animate-spin mx-auto text-blue-600"}),(0,a.jsx)("p",{className:"mt-2 text-gray-600",children:"Carregando..."})]})}):o&&!c||!o&&c?null:(0,a.jsx)(a.Fragment,{children:r})}},9174:function(e,r,t){"use strict";t.d(r,{C:function(){return i}});var a=t(7437);t(2265);var s=t(535),n=t(3448);let l=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:r,variant:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)(l({variant:t}),r),...s})}},2381:function(e,r,t){"use strict";t.d(r,{z:function(){return c}});var a=t(7437),s=t(2265),n=t(7053),l=t(535),i=t(3448);let o=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,r)=>{let{className:t,variant:s,size:l,asChild:c=!1,...d}=e,u=c?n.g7:"button";return(0,a.jsx)(u,{className:(0,i.cn)(o({variant:s,size:l,className:t})),ref:r,...d})});c.displayName="Button"},9820:function(e,r,t){"use strict";t.d(r,{Ol:function(){return i},Zb:function(){return l},aY:function(){return c},ll:function(){return o}});var a=t(7437),s=t(2265),n=t(3448);let l=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});l.displayName="Card";let i=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...s})});i.displayName="CardHeader";let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})});o.displayName="CardTitle",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",t),...s})}).displayName="CardDescription";let c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",t),...s})});c.displayName="CardContent",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",t),...s})}).displayName="CardFooter"},5648:function(e,r,t){"use strict";t.d(r,{H:function(){return i},a:function(){return o}});var a=t(7437),s=t(2265),n=t(5526);let l=(0,s.createContext)({});function i(e){let{children:r}=e,[t,i]=(0,s.useState)(null),[o,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(!0),m=(0,n.e)();(0,s.useEffect)(()=>{(async()=>{try{let{data:{session:e},error:r}=await m.auth.getSession();r?(console.error("Erro ao obter sess\xe3o:",r),i(null),c(null)):(null==e?void 0:e.user)?(i(e.user),await x(e.user.id)):(i(null),c(null))}catch(e){console.error("Erro na verifica\xe7\xe3o inicial:",e),i(null),c(null)}finally{u(!1)}})();let{data:{subscription:e}}=m.auth.onAuthStateChange(async(e,r)=>{var t;console.log("Auth state change:",e,null==r?void 0:null===(t=r.user)||void 0===t?void 0:t.email),(null==r?void 0:r.user)?(i(r.user),await x(r.user.id)):(i(null),c(null)),u(!1)});return()=>{e.unsubscribe()}},[]);let x=async e=>{try{let{data:s,error:n}=await m.from("profiles").select("*").eq("id",e).single();if(n&&"PGRST116"===n.code){var r,a;let{data:s,error:n}=await m.from("profiles").insert([{id:e,email:(null==t?void 0:t.email)||"",nome:(null==t?void 0:null===(r=t.user_metadata)||void 0===r?void 0:r.nome)||(null==t?void 0:null===(a=t.email)||void 0===a?void 0:a.split("@")[0])||"",plano:"gratuito"}]).select().single();n?console.error("Erro ao criar profile:",n):c(s)}else n?console.error("Erro ao carregar profile:",n):(c(s),await m.from("profiles").update({ultimo_acesso:new Date().toISOString()}).eq("id",e))}catch(e){console.error("Erro ao carregar profile:",e)}},f=async(e,r)=>{try{let{error:t}=await m.auth.signInWithPassword({email:e,password:r});return{error:t}}catch(e){return{error:e}}},h=async(e,r,t)=>{try{let{error:a}=await m.auth.signUp({email:e,password:r,options:{data:{nome:t}}});return{error:a}}catch(e){return{error:e}}},p=async()=>{try{await m.auth.signOut(),i(null),c(null),window.location.href="/"}catch(e){console.error("Erro ao fazer logout:",e)}};return(0,a.jsx)(l.Provider,{value:{user:t,profile:o,signOut:p,signIn:f,signUp:h,loading:d},children:r})}let o=()=>{let e=(0,s.useContext)(l);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},5526:function(e,r,t){"use strict";t.d(r,{e:function(){return i}});var a=t(8439);let s="https://wqhkcyscozpruhwylhar.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndxaGtjeXNjb3pwcnVod3lsaGFyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc3NzcyMzcsImV4cCI6MjA3MzM1MzIzN30.gFMB7xdShbvwPDoxwni_ijSa_zJ2w8s5B1BwUbHKyK0";if(!s||!n)throw Error("Missing Supabase environment variables");let l=(0,a.eI)(s,n),i=()=>l},3448:function(e,r,t){"use strict";t.d(r,{cn:function(){return n}});var a=t(1994),s=t(3335);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.m6)((0,a.W)(r))}}},function(e){e.O(0,[439,284,972,971,117,744],function(){return e(e.s=2910)}),_N_E=e.O()}]);